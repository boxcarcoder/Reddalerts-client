{"ast":null,"code":"import _regeneratorRuntime from\"/Users/brendan/Documents/development/portfolio/Reddalerts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/brendan/Documents/development/portfolio/Reddalerts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{LOGIN_SUCCESS,LOGIN_FAIL,REGISTER_SUCCESS,REGISTER_FAIL,LOGOUT,SUBMIT_PHONE_NUMBER,DELETE_PHONE_NUMBER}from'./types';import axios from'axios';export var login=function login(_ref){var email=_ref.email,password=_ref.password;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// configuration of the HTTP request to the backend\nconfig={headers:{'Content-Type':'application/json'}};// Convert JS object into JSON to send to Flask.\nbody=JSON.stringify({email:email,password:password});// Store the logged in user's token into a redux state for authentication purposes.\n_context.next=5;return axios.post('/api/login',body,config);case 5:res=_context.sent;dispatch({type:LOGIN_SUCCESS,payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:LOGIN_FAIL});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var register=function register(_ref3){var username=_ref3.username,email=_ref3.email,password=_ref3.password;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;// configuration of the HTTP request to the backend\nconfig={headers:{'Content-Type':'application/json'}};// Convert JS object into JSON to send to Flask.\nbody=JSON.stringify({username:username,email:email,password:password});// Store the logged in user's token into a redux state for authentication purposes.\n_context2.next=5;return axios.post('/api/register',body,config);case 5:res=_context2.sent;dispatch({type:REGISTER_SUCCESS,payload:res.data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:REGISTER_FAIL});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref4.apply(this,arguments);};}();};export var logout=function logout(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:LOGOUT});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref5.apply(this,arguments);};}();};export var submitPhoneNumber=function submitPhoneNumber(_ref6){var id=_ref6.id,phoneNumber=_ref6.phoneNumber;return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;// configuration of the HTTP request to the backend\nconfig={headers:{'Content-Type':'application/json'}};body=JSON.stringify({id:id,phoneNumber:phoneNumber});_context4.next=5;return axios.post('/api/submitPhoneNumber',body,config);case 5:res=_context4.sent;console.log('res from submit phone number: ',res);dispatch({type:SUBMIT_PHONE_NUMBER,payload:res.data});_context4.next=12;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function(_x4){return _ref7.apply(this,arguments);};}();};export var deletePhoneNumber=function deletePhoneNumber(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.delete('/api/deletePhoneNumber',{params:{id:id}});case 3:res=_context5.sent;console.log('res from del phone number: ',res);dispatch({type:DELETE_PHONE_NUMBER,payload:res.data});_context5.next=10;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function(_x5){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/brendan/Documents/development/portfolio/Reddalerts/client/src/actions/auth.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","REGISTER_SUCCESS","REGISTER_FAIL","LOGOUT","SUBMIT_PHONE_NUMBER","DELETE_PHONE_NUMBER","axios","login","email","password","dispatch","config","headers","body","JSON","stringify","post","res","type","payload","data","register","username","logout","submitPhoneNumber","id","phoneNumber","console","log","deletePhoneNumber","delete","params"],"mappings":"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","sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  LOGOUT,\n  SUBMIT_PHONE_NUMBER,\n  DELETE_PHONE_NUMBER,\n} from './types';\nimport axios from 'axios';\n\nexport const login = ({ email, password }) => async (dispatch) => {\n  try {\n    // configuration of the HTTP request to the backend\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    // Convert JS object into JSON to send to Flask.\n    const body = JSON.stringify({ email, password });\n\n    // Store the logged in user's token into a redux state for authentication purposes.\n    const res = await axios.post('/api/login', body, config);\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: LOGIN_FAIL,\n    });\n  }\n};\n\nexport const register = ({ username, email, password }) => async (dispatch) => {\n  try {\n    // configuration of the HTTP request to the backend\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    // Convert JS object into JSON to send to Flask.\n    const body = JSON.stringify({ username, email, password });\n\n    // Store the logged in user's token into a redux state for authentication purposes.\n    const res = await axios.post('/api/register', body, config);\n\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: REGISTER_FAIL,\n    });\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  dispatch({\n    type: LOGOUT,\n  });\n};\n\nexport const submitPhoneNumber = ({ id, phoneNumber }) => async (dispatch) => {\n  try {\n    // configuration of the HTTP request to the backend\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n    const body = JSON.stringify({\n      id,\n      phoneNumber,\n    });\n\n    const res = await axios.post('/api/submitPhoneNumber', body, config);\n\n    console.log('res from submit phone number: ', res);\n    dispatch({\n      type: SUBMIT_PHONE_NUMBER,\n      payload: res.data,\n    });\n  } catch (err) {}\n};\n\nexport const deletePhoneNumber = (id) => async (dispatch) => {\n  try {\n    const res = await axios.delete('/api/deletePhoneNumber', {\n      params: {\n        id,\n      },\n    });\n\n    console.log('res from del phone number: ', res);\n\n    dispatch({\n      type: DELETE_PHONE_NUMBER,\n      payload: res.data,\n    });\n  } catch (err) {}\n};\n"]},"metadata":{},"sourceType":"module"}