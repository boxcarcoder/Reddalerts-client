(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(20),i=n.n(c),d=(n(46),n(12)),u=n(4),o=n(6),l=n(15),b=n(38),j=n(39),p=n(2),h="LOGIN_SUCCESS",O="LOGIN_FAIL",m="LOGOUT",x="REGISTER_SUCCESS",f="REGISTER_FAIL",v="SUBMIT_SUBREDDIT_INFO",g="UPDATE_SUBREDDIT_KEYWORDS",y="SUBMIT_SUBREDDIT_INFO_FAIL",S="FETCH_SUBREDDITS",N="FETCH_SUBREDDITS_FAIL",w="DELETE_SUBREDDIT",I="DELETE_SUBREDDIT_FAIL",D="SUBMIT_PHONE_NUMBER",E="DELETE_PHONE_NUMBER",k={token:localStorage.getItem("token"),loggedInUser:null,loading:!1,isAuthenticated:!1},T=n(40),U={subreddits:[],loading:!1,error:{}},_={profilePhoneNumber:null,loading:!1},R=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h:case x:return localStorage.setItem("token",a.token),Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,loggedInUser:a.user});case O:case f:case m:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1,loggedInUser:null});default:return e}},subreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v:return Object(p.a)(Object(p.a)({},e),{},{subreddits:[].concat(Object(T.a)(e.subreddits),[a.subreddit])});case y:return Object(p.a)(Object(p.a)({},e),{},{error:a});case g:return Object(p.a)(Object(p.a)({},e),{},{subreddits:e.subreddits.map((function(e){return e.subreddit_name===a.subreddit.subreddit_name?Object(p.a)(Object(p.a)({},e),{},{keywords:a.subreddit.keywords}):e}))});case S:return Object(p.a)(Object(p.a)({},e),{},{subreddits:a.subreddits});case N:return Object(p.a)(Object(p.a)({},e),{},{error:a});case w:return Object(p.a)(Object(p.a)({},e),{},{subreddits:a.subreddits});case I:return Object(p.a)(Object(p.a)({},e),{},{error:a});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case D:case E:return Object(p.a)(Object(p.a)({},e),{},{profilePhoneNumber:a.phone_num});default:return e}}}),B=[j.a],C=Object(l.createStore)(R,{},Object(b.composeWithDevTools)(l.applyMiddleware.apply(void 0,B))),A=function(){return Object(a.jsx)("section",{className:"landing",children:Object(a.jsxs)("div",{className:"dark-overlay",children:[Object(a.jsx)("h1",{className:"landingHeader",children:"ReddAlerts"}),Object(a.jsxs)("div",{className:"landingLinks",children:[Object(a.jsx)(d.b,{to:"/register",className:"btn",children:"Register"}),Object(a.jsx)(d.b,{to:"/login",className:"btn",children:"Login"})]}),Object(a.jsxs)("div",{className:"readMe",children:[Object(a.jsx)("p",{children:"Register to start monitoring Subreddits."}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("p",{children:"Specify a subreddit you wish to monitor, and keyword(s) of interest for that Subreddit."}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("p",{children:"Receive text messages of rising posts in each monitored Subreddit that contains your keywords."})]})]})})},P=n(16),F=n(5),L=n.n(F),M=n(13),K=n(14),H=n.n(K),J=n.p+"static/media/top-design-subreddits.b78100bd.jpeg",G=Object(o.b)((function(e){return{authState:e.auth}}),{register:function(e){var t=e.username,n=e.email,a=e.password;return function(){var e=Object(M.a)(L.a.mark((function e(r){var s,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json"}},c=JSON.stringify({username:t,email:n,password:a}),e.next=5,H.a.post("/api/register",c,s);case 5:i=e.sent,r({type:x,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:f});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.register,n=e.authState.isAuthenticated,s=Object(r.useState)({username:"",email:"",password:""}),c=Object(P.a)(s,2),i=c[0],d=c[1],o=i.username,l=i.email,b=i.password;return n?Object(a.jsx)(u.a,{to:"/settings"}):Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{className:"authBox",children:[Object(a.jsx)("h1",{children:"Sign Up"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({username:o,email:l,password:b})},children:[Object(a.jsx)("p",{children:"Username"}),Object(a.jsx)("input",{type:"text",placeholder:"John Doe",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{username:e.target.value}))},value:o}),Object(a.jsx)("p",{children:"Email"}),Object(a.jsx)("input",{type:"email",placeholder:"jdoe@gmail.com",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{email:e.target.value}))},value:l}),Object(a.jsx)("p",{children:"Password"}),Object(a.jsx)("input",{type:"password",placeholder:"********",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{password:e.target.value}))},value:b}),Object(a.jsx)("input",{type:"submit",value:"Register"})]})]}),Object(a.jsx)("img",{src:J,alt:"register",width:"569",className:"authPic"}),Object(a.jsxs)("div",{children:["Already have an account? ",Object(a.jsx)("a",{href:"/login",children:"Login"})]})]})})),W=Object(o.b)((function(e){return{authState:e.auth}}),{login:function(e){var t=e.email,n=e.password;return function(){var e=Object(M.a)(L.a.mark((function e(a){var r,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:t,password:n}),e.next=5,H.a.post("/api/login",s,r);case 5:c=e.sent,a({type:h,payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:O});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.authState.isAuthenticated,s=Object(r.useState)({email:"",password:""}),c=Object(P.a)(s,2),i=c[0],d=c[1],o=i.email,l=i.password;return n?Object(a.jsx)(u.a,{to:"/dashboard"}):Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{className:"authBox",children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:o,password:l})},children:[Object(a.jsx)("input",{type:"email",placeholder:"Email",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{email:e.target.value}))},value:o}),Object(a.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{password:e.target.value}))},value:l}),Object(a.jsx)("input",{type:"submit",value:"Log In"})]})]}),Object(a.jsx)("img",{src:J,alt:"login",width:"569",className:"authPic"}),Object(a.jsxs)("div",{children:["Don't have an account? ",Object(a.jsx)("a",{href:"/register",children:"Register"})]})]})})),Y=Object(o.b)((function(e){return{authState:e.auth}}),{deleteMonitoredSubreddit:function(e,t){return function(){var n=Object(M.a)(L.a.mark((function n(a){var r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H.a.delete("/api/deleteMonitoredSubreddit",{params:{id:e,subredditName:t}});case 3:r=n.sent,a({type:w,payload:r.data}),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.subreddit,n=t.subreddit_name,s=t.keywords,c=e.deleteMonitoredSubreddit,i=e.authState.loggedInUser.id;return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"subredditTableAndDeleteBtn",children:[Object(a.jsxs)("table",{className:"subredditTable",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsx)("th",{colspan:"2",children:n})}),Object(a.jsx)("tr",{children:Object(a.jsx)("div",{className:"line"})})]}),Object(a.jsx)("tbody",{children:function(e){return e.map((function(e){return Object(a.jsx)("tr",{children:Object(a.jsx)("td",{children:e.keyword})})}))}(s)})]}),Object(a.jsx)("button",{className:"deleteBtn",onClick:function(e){return function(e){e.preventDefault(),c(i,n)}(e)},children:"Delete"})]})})})),q=Object(o.b)((function(e){return{subredditState:e.subreddit,authState:e.auth}}),{submitSubredditInfo:function(e){var t=e.id,n=e.subredditName,a=e.subredditKeywords;return function(){var e=Object(M.a)(L.a.mark((function e(r){var s,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json"}},c=JSON.stringify({id:t,subredditName:n,subredditKeywords:a}),e.next=5,H.a.post("/api/submitSubredditInfo",c,s);case 5:"true"===(i=e.sent).data.update?r({type:g,payload:i.data}):r({type:v,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:y,payload:{msg:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchUserSubreddits:function(e){return function(){var t=Object(M.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.get("/api/fetchSubredditsInfo",{params:{id:e}});case 3:a=t.sent,n({type:S,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:N,payload:{msg:t.t0}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.submitSubredditInfo,n=e.fetchUserSubreddits,s=e.subredditState.subreddits,c=e.authState,i=c.loggedInUser.id,d=c.isAuthenticated;Object(r.useEffect)((function(){n(i)}),[]);var o=Object(r.useState)({subredditName:"",subredditKeywords:""}),l=Object(P.a)(o,2),b=l[0],j=l[1],h=b.subredditName,O=b.subredditKeywords;return d?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h1",{className:"defaultHeader",children:"ReddAlerts"}),Object(a.jsxs)("div",{className:"submissionBox",children:[Object(a.jsx)("h2",{children:"Subreddits To Monitor"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({id:i,subredditName:h,subredditKeywords:O}),j({subredditName:"",subredditKeywords:""})},children:[Object(a.jsx)("p",{children:"Subreddit (/r/)"}),Object(a.jsx)("input",{type:"text",placeholder:"technology",value:h,onChange:function(e){j(Object(p.a)(Object(p.a)({},b),{},{subredditName:e.target.value}))}}),Object(a.jsx)("p",{className:"smallText",children:"One subreddit per submission."}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("p",{children:"Keywords"}),Object(a.jsx)("input",{type:"text",placeholder:"javascript, reactjs",value:O,onChange:function(e){j(Object(p.a)(Object(p.a)({},b),{},{subredditKeywords:e.target.value}))}}),Object(a.jsx)("p",{className:"smallText",children:"Comma separated list."}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]})]}),s.map((function(e){return Object(a.jsx)(Y,{subreddit:e})}))]}):Object(a.jsx)(u.a,{to:"/register"})})),z=Object(o.b)((function(e){return{authState:e.auth}}),{logout:function(){return function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.authState.isAuthenticated,n=e.logout;return Object(a.jsx)(r.Fragment,{children:t?Object(a.jsx)("div",{className:"navbar",children:Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(d.b,{to:"/dashboard",children:"Subreddits"}),Object(a.jsx)(d.b,{to:"/settings",children:"Settings"}),Object(a.jsx)("a",{onClick:function(e){n()},href:"/register",children:"Logout"})]})}):null})})),Q=Object(o.b)((function(e){return{authState:e.auth,profileState:e.profile}}),{submitPhoneNumber:function(e){var t=e.id,n=e.phoneNumber;return function(){var e=Object(M.a)(L.a.mark((function e(a){var r,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({id:t,phoneNumber:n}),e.next=5,H.a.post("/api/submitPhoneNumber",s,r);case 5:c=e.sent,a({type:D,payload:c.data}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},deletePhoneNumber:function(e){return function(){var t=Object(M.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.delete("/api/deletePhoneNumber",{params:{id:e}});case 3:a=t.sent,n({type:E,payload:a.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.submitPhoneNumber,n=e.deletePhoneNumber,s=e.authState.loggedInUser.id,c=e.profileState.profilePhoneNumber,i=Object(r.useState)({phoneNumber:""}),d=Object(P.a)(i,2),u=d[0],o=d[1],l=u.phoneNumber;return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h1",{className:"defaultHeader",children:"ReddAlerts"}),Object(a.jsxs)("div",{className:"sectionBox",children:[Object(a.jsx)("h2",{children:"Settings"}),Object(a.jsx)("div",{className:"line"}),c?Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"phoneNumAndDeleteBtn",children:[Object(a.jsxs)("h4",{children:["My Phone Number: ",c]}),Object(a.jsx)("button",{className:"phoneNumDeleteBtn",onClick:function(e){return function(e){e.preventDefault(),n(s)}(e)},children:"Delete"})]})}):Object(a.jsx)("div",{className:"phoneNumAndDeleteBtn",children:Object(a.jsx)("h4",{children:"My Phone Number: "})}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({id:s,phoneNumber:l})},children:[Object(a.jsx)("input",{type:"text",placeholder:"Phone Number",value:l,onChange:function(e){o(Object(p.a)(Object(p.a)({},u),{},{phoneNumber:e.target.value}))}}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]}),Object(a.jsx)("p",{children:"Format: (555)555-5555"}),Object(a.jsx)("p",{className:"smallText",children:"U.S. phone numbers only."})]})]})})),V=function(){return Object(a.jsx)(o.a,{store:C,children:Object(a.jsx)(d.a,{children:Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(z,{}),Object(a.jsx)(u.b,{exact:!0,path:"/",component:A}),Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/register",component:G}),Object(a.jsx)(u.b,{exact:!0,path:"/login",component:W}),Object(a.jsx)(u.b,{exact:!0,path:"/dashboard",component:q}),Object(a.jsx)(u.b,{exact:!0,path:"/settings",component:Q})]})]})})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f4949428.chunk.js.map