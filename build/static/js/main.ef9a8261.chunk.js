(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(20),i=a.n(c),d=(a(46),a(12)),u=a(4),o=a(6),l=a(15),b=a(38),j=a(39),p=a(2),h="LOGIN_SUCCESS",O="LOGIN_FAIL",m="LOGOUT",x="REGISTER_SUCCESS",f="REGISTER_FAIL",v="SUBMIT_SUBREDDIT_INFO",g="UPDATE_SUBREDDIT_KEYWORDS",y="SUBMIT_SUBREDDIT_INFO_FAIL",S="FETCH_SUBREDDITS",N="FETCH_SUBREDDITS_FAIL",w="DELETE_SUBREDDIT",I="DELETE_SUBREDDIT_FAIL",D="SUBMIT_PHONE_NUMBER",E="DELETE_PHONE_NUMBER",k={token:localStorage.getItem("token"),loggedInUser:null,loading:!1,isAuthenticated:!1},T=a(40),U={subreddits:[],loading:!1,error:{}},_={profilePhoneNumber:null,loading:!1},R=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h:case x:return localStorage.setItem("token",n.token),Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,loggedInUser:n.user});case O:case f:case m:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1,loggedInUser:null});default:return e}},subreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(p.a)(Object(p.a)({},e),{},{subreddits:[].concat(Object(T.a)(e.subreddits),[n.subreddit])});case y:return Object(p.a)(Object(p.a)({},e),{},{error:n});case g:return Object(p.a)(Object(p.a)({},e),{},{subreddits:e.subreddits.map((function(e){return e.subreddit_name===n.subreddit.subreddit_name?Object(p.a)(Object(p.a)({},e),{},{keywords:n.subreddit.keywords}):e}))});case S:return Object(p.a)(Object(p.a)({},e),{},{subreddits:n.subreddits});case N:return Object(p.a)(Object(p.a)({},e),{},{error:n});case w:return Object(p.a)(Object(p.a)({},e),{},{subreddits:n.subreddits});case I:return Object(p.a)(Object(p.a)({},e),{},{error:n});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D:case E:return Object(p.a)(Object(p.a)({},e),{},{profilePhoneNumber:n.phone_num});default:return e}}}),B=[j.a],C=Object(l.createStore)(R,{},Object(b.composeWithDevTools)(l.applyMiddleware.apply(void 0,B))),A=function(){return Object(n.jsx)("section",{className:"landing",children:Object(n.jsxs)("div",{className:"dark-overlay",children:[Object(n.jsx)("h1",{className:"landingHeader",children:"ReddAlerts"}),Object(n.jsxs)("div",{className:"landingLinks",children:[Object(n.jsx)(d.b,{to:"/register",className:"btn",children:"Register"}),Object(n.jsx)(d.b,{to:"/login",className:"btn",children:"Login"})]}),Object(n.jsxs)("div",{className:"readMe",children:[Object(n.jsx)("p",{children:"Register to start monitoring Subreddits."}),Object(n.jsx)("div",{className:"line"}),Object(n.jsx)("p",{children:"Specify a subreddit you wish to monitor, and keyword(s) of interest for that Subreddit."}),Object(n.jsx)("div",{className:"line"}),Object(n.jsx)("p",{children:"Receive text messages of rising posts in each monitored Subreddit that contains your keywords."})]})]})})},P=a(16),F=a(5),L=a.n(F),M=a(13),K=a(14),H=a.n(K),J=a.p+"static/media/top-design-subreddits.b78100bd.jpeg",G=Object(o.b)((function(e){return{authState:e.auth}}),{register:function(e){var t=e.username,a=e.email,n=e.password;return function(){var e=Object(M.a)(L.a.mark((function e(r){var s,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json"}},c=JSON.stringify({username:t,email:a,password:n}),e.next=5,H.a.post("https://api.reddalerts.com/api/register",c,s);case 5:i=e.sent,r({type:x,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:f});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.register,a=e.authState.isAuthenticated,s=Object(r.useState)({username:"",email:"",password:""}),c=Object(P.a)(s,2),i=c[0],d=c[1],o=i.username,l=i.email,b=i.password;return a?Object(n.jsx)(u.a,{to:"/settings"}):Object(n.jsxs)("section",{children:[Object(n.jsxs)("div",{className:"authBox",children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({username:o,email:l,password:b})},children:[Object(n.jsx)("p",{children:"Username"}),Object(n.jsx)("input",{type:"text",placeholder:"John Doe",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{username:e.target.value}))},value:o}),Object(n.jsx)("p",{children:"Email"}),Object(n.jsx)("input",{type:"email",placeholder:"jdoe@gmail.com",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{email:e.target.value}))},value:l}),Object(n.jsx)("p",{children:"Password"}),Object(n.jsx)("input",{type:"password",placeholder:"********",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{password:e.target.value}))},value:b}),Object(n.jsx)("input",{type:"submit",value:"Register"})]})]}),Object(n.jsx)("img",{src:J,alt:"register",width:"569",className:"authPic"}),Object(n.jsxs)("div",{children:["Already have an account? ",Object(n.jsx)("a",{href:"/login",children:"Login"})]})]})})),W=Object(o.b)((function(e){return{authState:e.auth}}),{login:function(e){var t=e.email,a=e.password;return function(){var e=Object(M.a)(L.a.mark((function e(n){var r,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:t,password:a}),e.next=5,H.a.post("https://api.reddalerts.com/api/login",s,r);case 5:c=e.sent,n({type:h,payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:O});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.authState.isAuthenticated,s=Object(r.useState)({email:"",password:""}),c=Object(P.a)(s,2),i=c[0],d=c[1],o=i.email,l=i.password;return a?Object(n.jsx)(u.a,{to:"/dashboard"}):Object(n.jsxs)("section",{children:[Object(n.jsxs)("div",{className:"authBox",children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:o,password:l})},children:[Object(n.jsx)("input",{type:"email",placeholder:"Email",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{email:e.target.value}))},value:o}),Object(n.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){d(Object(p.a)(Object(p.a)({},i),{},{password:e.target.value}))},value:l}),Object(n.jsx)("input",{type:"submit",value:"Log In"})]})]}),Object(n.jsx)("img",{src:J,alt:"login",width:"569",className:"authPic"}),Object(n.jsxs)("div",{children:["Don't have an account? ",Object(n.jsx)("a",{href:"/register",children:"Register"})]})]})})),Y=Object(o.b)((function(e){return{authState:e.auth}}),{deleteMonitoredSubreddit:function(e,t){return function(){var a=Object(M.a)(L.a.mark((function a(n){var r;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.a.delete("https://api.reddalerts.com/api/deleteMonitoredSubreddit",{params:{id:e,subredditName:t}});case 3:r=a.sent,n({type:w,payload:r.data}),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.subreddit,a=t.subreddit_name,s=t.keywords,c=e.deleteMonitoredSubreddit,i=e.authState.loggedInUser.id;return Object(n.jsx)(r.Fragment,{children:Object(n.jsxs)("div",{className:"subredditTableAndDeleteBtn",children:[Object(n.jsxs)("table",{className:"subredditTable",children:[Object(n.jsxs)("thead",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colspan:"2",children:a})}),Object(n.jsx)("tr",{children:Object(n.jsx)("div",{className:"line"})})]}),Object(n.jsx)("tbody",{children:function(e){return e.map((function(e){return Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:e.keyword})})}))}(s)})]}),Object(n.jsx)("button",{className:"deleteBtn",onClick:function(e){return function(e){e.preventDefault(),c(i,a)}(e)},children:"Delete"})]})})})),q=Object(o.b)((function(e){return{subredditState:e.subreddit,authState:e.auth}}),{submitSubredditInfo:function(e){var t=e.id,a=e.subredditName,n=e.subredditKeywords;return function(){var e=Object(M.a)(L.a.mark((function e(r){var s,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json"}},c=JSON.stringify({id:t,subredditName:a,subredditKeywords:n}),e.next=5,H.a.post("https://api.reddalerts.com/api/submitSubredditInfo",c,s);case 5:"true"===(i=e.sent).data.update?r({type:g,payload:i.data}):r({type:v,payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:y,payload:{msg:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchUserSubreddits:function(e){return function(){var t=Object(M.a)(L.a.mark((function t(a){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.get("https://api.reddalerts.com/api/fetchSubredditsInfo",{params:{id:e}});case 3:n=t.sent,a({type:S,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:N,payload:{msg:t.t0}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.submitSubredditInfo,a=e.fetchUserSubreddits,s=e.subredditState.subreddits,c=e.authState,i=c.loggedInUser.id,d=c.isAuthenticated;Object(r.useEffect)((function(){a(i)}),[]);var o=Object(r.useState)({subredditName:"",subredditKeywords:""}),l=Object(P.a)(o,2),b=l[0],j=l[1],h=b.subredditName,O=b.subredditKeywords;return d?Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("h1",{className:"defaultHeader",children:"ReddAlerts"}),Object(n.jsxs)("div",{className:"submissionBox",children:[Object(n.jsx)("h2",{children:"Subreddits To Monitor"}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({id:i,subredditName:h,subredditKeywords:O})},children:[Object(n.jsx)("p",{children:"Subreddit (/r/)"}),Object(n.jsx)("input",{type:"text",placeholder:"technology",value:h,onChange:function(e){j(Object(p.a)(Object(p.a)({},b),{},{subredditName:e.target.value}))}}),Object(n.jsx)("p",{className:"smallText",children:"One subreddit per submission."}),Object(n.jsx)("div",{className:"line"}),Object(n.jsx)("p",{children:"Keywords"}),Object(n.jsx)("input",{type:"text",placeholder:"javascript, reactjs",value:O,onChange:function(e){j(Object(p.a)(Object(p.a)({},b),{},{subredditKeywords:e.target.value}))}}),Object(n.jsx)("p",{className:"smallText",children:"Comma separated list."}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]})]}),s.map((function(e){return Object(n.jsx)(Y,{subreddit:e})}))]}):Object(n.jsx)(u.a,{to:"/register"})})),z=Object(o.b)((function(e){return{authState:e.auth}}),{logout:function(){return function(){var e=Object(M.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.authState.isAuthenticated,a=e.logout;return Object(n.jsx)(r.Fragment,{children:t?Object(n.jsx)("div",{className:"navbar",children:Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(d.b,{to:"/dashboard",children:"Subreddits"}),Object(n.jsx)(d.b,{to:"/settings",children:"Settings"}),Object(n.jsx)("a",{onClick:function(e){a()},href:"/register",children:"Logout"})]})}):null})})),Q=Object(o.b)((function(e){return{authState:e.auth,profileState:e.profile}}),{submitPhoneNumber:function(e){var t=e.id,a=e.phoneNumber;return function(){var e=Object(M.a)(L.a.mark((function e(n){var r,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({id:t,phoneNumber:a}),e.next=5,H.a.post("https://api.reddalerts.com/api/submitPhoneNumber",s,r);case 5:c=e.sent,n({type:D,payload:c.data}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},deletePhoneNumber:function(e){return function(){var t=Object(M.a)(L.a.mark((function t(a){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.delete("https://api.reddalerts.com/api/deletePhoneNumber",{params:{id:e}});case 3:n=t.sent,a({type:E,payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.submitPhoneNumber,a=e.deletePhoneNumber,s=e.authState.loggedInUser.id,c=e.profileState.profilePhoneNumber,i=Object(r.useState)({phoneNumber:""}),d=Object(P.a)(i,2),u=d[0],o=d[1],l=u.phoneNumber;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("h1",{className:"defaultHeader",children:"ReddAlerts"}),Object(n.jsxs)("div",{className:"sectionBox",children:[Object(n.jsx)("h2",{children:"Settings"}),Object(n.jsx)("div",{className:"line"}),c?Object(n.jsx)(r.Fragment,{children:Object(n.jsxs)("div",{className:"phoneNumAndDeleteBtn",children:[Object(n.jsxs)("h4",{children:["My Phone Number: ",c]}),Object(n.jsx)("button",{className:"phoneNumDeleteBtn",onClick:function(e){return function(e){e.preventDefault(),a(s)}(e)},children:"Delete"})]})}):Object(n.jsx)("div",{className:"phoneNumAndDeleteBtn",children:Object(n.jsx)("h4",{children:"My Phone Number: "})}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({id:s,phoneNumber:l})},children:[Object(n.jsx)("input",{type:"text",placeholder:"Phone Number",value:l,onChange:function(e){o(Object(p.a)(Object(p.a)({},u),{},{phoneNumber:e.target.value}))}}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]}),Object(n.jsx)("p",{children:"Format: (555)555-5555"}),Object(n.jsx)("p",{className:"smallText",children:"U.S. phone numbers only."})]})]})})),V=function(){return Object(n.jsx)(o.a,{store:C,children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(z,{}),Object(n.jsx)(u.b,{exact:!0,path:"/",component:A}),Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/register",component:G}),Object(n.jsx)(u.b,{exact:!0,path:"/login",component:W}),Object(n.jsx)(u.b,{exact:!0,path:"/dashboard",component:q}),Object(n.jsx)(u.b,{exact:!0,path:"/settings",component:Q})]})]})})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.ef9a8261.chunk.js.map